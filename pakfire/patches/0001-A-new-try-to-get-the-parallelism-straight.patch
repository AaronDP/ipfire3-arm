From 369ac3b365091ba1a26fb266a94d97adb3719cbc Mon Sep 17 00:00:00 2001
From: Michael Tremer <michael.tremer@ipfire.org>
Date: Thu, 24 Jan 2013 01:51:29 +0100
Subject: [PATCH 1/4] A new try to get the parallelism straight.

Getting back to CPU cores * 2.
---
 python/pakfire/system.py | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

diff --git a/python/pakfire/system.py b/python/pakfire/system.py
index a9154de..6f67d31 100644
--- a/python/pakfire/system.py
+++ b/python/pakfire/system.py
@@ -156,15 +156,10 @@ class System(object):
 			Calculates how many processes should be run
 			simulatneously when compiling.
 		"""
-		# Check how many processes would fit into the
-		# memory when each process takes up to 500MB.
-		multiplicator = self.memory / (500 * 1024 * 1024)
-		multiplicator = round(multiplicator)
-
 		# Count the number of online CPU cores.
 		cpucount = os.sysconf("SC_NPROCESSORS_CONF")
 
-		return min(multiplicator, cpucount * 2)
+		return cpucount * 2
 
 
 # Create an instance of this class to only keep it once in memory.
-- 
1.7.11.7

