From 0f8823593c2c815b3dc2c7c9cb74b4d7a6b218de Mon Sep 17 00:00:00 2001
From: Michael Tremer <michael.tremer@ipfire.org>
Date: Wed, 29 Feb 2012 12:29:07 +0100
Subject: [PATCH] Change default hub to pakfirehub.ipfire.org.

---
 examples/client.conf          |    2 +-
 examples/daemon.conf          |    2 +-
 python/pakfire/client/base.py |    2 +-
 python/pakfire/config.py      |    4 ++--
 python/pakfire/constants.py   |    3 +++
 5 files changed, 8 insertions(+), 5 deletions(-)

diff --git a/examples/client.conf b/examples/client.conf
index da57d03..6c59de9 100644
--- a/examples/client.conf
+++ b/examples/client.conf
@@ -3,7 +3,7 @@
 [client]
 
 # The URL of the server to connect to.
-# server = https://pakfire.ipfire.org/
+# server = https://pakfirehub.ipfire.org/
 
 # Your credentials to log in on the hub.
 # username = ipfire
diff --git a/examples/daemon.conf b/examples/daemon.conf
index 525cc1f..143a7f6 100644
--- a/examples/daemon.conf
+++ b/examples/daemon.conf
@@ -3,7 +3,7 @@
 [daemon]
 
 # The URL of the server to connect to.
-# server = https://pakfire.ipfire.org/
+# server = https://pakfirehub.ipfire.org/
 
 # The hostname of this machine.
 # hostname = <automatically detected>
diff --git a/python/pakfire/client/base.py b/python/pakfire/client/base.py
index 1886e2b..3ac4bef 100644
--- a/python/pakfire/client/base.py
+++ b/python/pakfire/client/base.py
@@ -51,7 +51,7 @@ class PakfireClient(object):
 			ret += "%s:%s@" % (username, password)
 
 		# Add host and path components.
-		ret += "%s/pakfirehub/%s" % (url.netloc, self.type)
+		ret += "/".join((url.netloc, self.type))
 
 		return ret
 
diff --git a/python/pakfire/config.py b/python/pakfire/config.py
index c7ab143..0d32784 100644
--- a/python/pakfire/config.py
+++ b/python/pakfire/config.py
@@ -237,7 +237,7 @@ class ConfigClient(_Config):
 		"client" : {
 			# The default server is the official Pakfire
 			# server.
-			"server"   : "https://pakfire.ipfire.org",
+			"server"   : PAKFIRE_HUB,
 		},
 	}
 
@@ -249,7 +249,7 @@ class ConfigDaemon(_Config):
 		"daemon" : {
 			# The default server is the official Pakfire
 			# server.
-			"server"   : "https://pakfire.ipfire.org",
+			"server"   : PAKFIRE_HUB,
 
 			# The default hostname is the host name of this
 			# machine.
diff --git a/python/pakfire/constants.py b/python/pakfire/constants.py
index 2998ab7..2c091e4 100644
--- a/python/pakfire/constants.py
+++ b/python/pakfire/constants.py
@@ -27,6 +27,9 @@ from __version__ import PAKFIRE_VERSION
 
 PAKFIRE_LEAST_COMPATIBLE_VERSION = PAKFIRE_VERSION
 
+# The default hub to connect to.
+PAKFIRE_HUB = "https://pakfirehub.ipfire.org/"
+
 SYSCONFDIR = "/etc"
 SCRIPT_DIR = "/usr/lib/pakfire"
 
-- 
1.7.3.4

