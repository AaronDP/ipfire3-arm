#!/bin/sh
########################################################################
# Begin $NETWORK_DEVICES/services/stp
#
# Description : Spanning Tree Protocol Script
#
# Authors     : Michael Tremer - michael.tremer@ipfire.org
#
# Version     : 00.00
#
# Notes       : This script adds stp support to a bridge.
#
########################################################################

. /lib/lsb/init-functions
[ -n "${CONFIG}" ] && . ${CONFIG}

zone=$1

case "${2}" in
	up)
		MESSAGE="Enabling Spanning Tree Protocol on zone ${zone}..."
		brctl stp ${zone} on
		evaluate_retval
	;;

	down)
		MESSAGE="Disabling Spanning Tree Protocol on zone ${zone}..."
		brctl stp ${zone} off
		evaluate_retval
	;;

	config)
		: # TODO
	;;

	*)
		echo "Usage: ${0} [interface] {up|down|config}"
		exit 1
	;;
esac

# End $NETWORK_DEVICES/services/stp
