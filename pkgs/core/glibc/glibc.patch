diff --git a/pkgs/core/binutils/patches/binutils-2.20.1-gentoo-flexible-tests.patch b/pkgs/core/binutils/patches/binutils-2.20.1-gentoo-flexible-tests.patch
deleted file mode 100644
index c95e369..0000000
--- a/pkgs/core/binutils/patches/binutils-2.20.1-gentoo-flexible-tests.patch
+++ /dev/null
@@ -1,82 +0,0 @@
-making some of the address matches more flexible fixes tests when using
-pax/relro/hash patches
-
---- binutils/ld/testsuite/ld-i386/hidden2.d
-+++ binutils/ld/testsuite/ld-i386/hidden2.d
-@@ -8,6 +8,6 @@
- Disassembly of section .text:
- 
- [a-f0-9]+ <bar>:
--[ 	]*[a-f0-9]+:	e8 af fe ff ff       	call   0 <bar-0x[a-f0-9]+>
-+[ 	]*[a-f0-9]+:	e8 ([a-f0-9]{2} ){2}ff ff       	call   0 <bar-0x[a-f0-9]+>
- [ 	]*[a-f0-9]+:	c3                   	ret    
- #pass
---- binutils/ld/testsuite/ld-x86-64/hidden2.d
-+++ binutils/ld/testsuite/ld-x86-64/hidden2.d
-@@ -8,6 +8,6 @@
- Disassembly of section .text:
- 
- [a-f0-9]+ <bar>:
--[ 	]*[a-f0-9]+:	e8 33 fe ff ff       	callq  0 <bar-0x[a-f0-9]+>
-+[ 	]*[a-f0-9]+:	e8 ([a-f0-9]{2} ){2}ff ff       	callq  0 <bar-0x[a-f0-9]+>
- [ 	]*[a-f0-9]+:	c3                   	retq   
- #pass
---- binutils/ld/testsuite/ld-x86-64/protected3.d
-+++ binutils/ld/testsuite/ld-x86-64/protected3.d
-@@ -8,6 +8,6 @@
- Disassembly of section .text:
- 
- 0+[a-f0-9]+ <bar>:
--[ 	]*[a-f0-9]+:	8b 05 ce 00 20 00    	mov    0x[a-f0-9]+\(%rip\),%eax        # [a-f0-9]+ <foo>
-+[ 	]*[a-f0-9]+:	8b 05 ([a-f0-9]{2} ){2}20 00    	mov    0x[a-f0-9]+\(%rip\),%eax        # [a-f0-9]+ <foo>
- [ 	]*[a-f0-9]+:	c3                   	retq   
- #pass
---- binutils/ld/testsuite/ld-ifunc/ifunc-1-local-x86.d
-+++ binutils/ld/testsuite/ld-ifunc/ifunc-1-local-x86.d
-@@ -3,5 +3,5 @@
- #target: x86_64-*-* i?86-*-*
- 
- #...
--[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x200|)@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x[a-f0-9]+|)@plt>
- #pass
---- binutils/ld/testsuite/ld-ifunc/ifunc-1-x86.d
-+++ binutils/ld/testsuite/ld-ifunc/ifunc-1-x86.d
-@@ -3,5 +3,5 @@
- #target: x86_64-*-* i?86-*-*
- 
- #...
--[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x220|)@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x[a-f0-9]+|)@plt>
- #pass
---- binutils/ld/testsuite/ld-ifunc/ifunc-2-local-x86-64.d
-+++ binutils/ld/testsuite/ld-ifunc/ifunc-2-local-x86-64.d
-@@ -4,6 +4,6 @@
- #target: x86_64-*-*
- 
- #...
--[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*\+0x220@plt>
--[ \t0-9a-f]+:[ \t0-9a-f]+lea[ \t]+.*\(%rip\),%rax.*[ \t0-9a-fq]+<\*ABS\*\+0x220@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*\+0x[a-f0-9]+@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+lea[ \t]+.*\(%rip\),%rax.*[ \t0-9a-fq]+<\*ABS\*\+0x[a-f0-9]+@plt>
- #pass
---- binutils/ld/testsuite/ld-ifunc/ifunc-2-x86-64.d
-+++ binutils/ld/testsuite/ld-ifunc/ifunc-2-x86-64.d
-@@ -4,6 +4,6 @@
- #target: x86_64-*-*
- 
- #...
--[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*\+0x220@plt>
--[ \t0-9a-f]+:[ \t0-9a-f]+lea[ \t]+.*\(%rip\),%rax.*[ \t0-9a-fq]+<\*ABS\*\+0x220@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*\+0x[a-f0-9]+@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+lea[ \t]+.*\(%rip\),%rax.*[ \t0-9a-fq]+<\*ABS\*\+0x[a-f0-9]+@plt>
- #pass
---- binutils/ld/testsuite/ld-ifunc/ifunc-3a-x86.d
-+++ binutils/ld/testsuite/ld-ifunc/ifunc-3a-x86.d
-@@ -4,5 +4,5 @@
- #target: x86_64-*-* i?86-*-*
- 
- #...
--[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x258|)@plt>
-+[ \t0-9a-f]+:[ \t0-9a-f]+call[ \t0-9a-fq]+<\*ABS\*(\+0x[a-f0-9]+|)@plt>
- #pass
diff --git a/pkgs/core/ccache/ccache.nm b/pkgs/core/ccache/ccache.nm
index 375d23b..3ebfbc3 100644
--- a/pkgs/core/ccache/ccache.nm
+++ b/pkgs/core/ccache/ccache.nm
@@ -26,7 +26,7 @@ include $(PKGROOT)/Include
 
 PKG_NAME       = ccache
 PKG_VER        = 3.1.4
-PKG_REL        = 1
+PKG_REL        = 2
 
 PKG_MAINTAINER =
 PKG_GROUP      = Development/Compilers
@@ -36,6 +36,8 @@ PKG_SUMMARY    = C/C++ compiler cache.
 
 PKG_BUILD_DEPS+= perl zlib-devel
 
+CCACHE_PLATFORM_TARGET = $(subst -gnu,,$(DISTRO_MACHINE))
+
 define PKG_DESCRIPTION
 	ccache is a compiler cache.  It acts as a caching pre-processor to \
 	C/C++ compilers, using the -E compiler switch and a hash to detect \
@@ -66,7 +68,7 @@ define STAGE_INSTALL_CMDS
 	mkdir -pv $(BUILDROOT)/usr/lib/ccache
 	for i in gcc g++ cc c++; do \
 		ln -svf ../../bin/ccache $(BUILDROOT)/usr/lib/ccache/$${i}; \
-		ln -svf ../../bin/ccache $(BUILDROOT)/usr/lib/ccache/$(DISTRO_MACHINE)-$${i}; \
+		ln -svf ../../bin/ccache $(BUILDROOT)/usr/lib/ccache/$(CCACHE_PLATFORM_TARGET)-$${i}; \
 	done
 
 	-mkdir -pv $(BUILDROOT)/etc/profile.d
diff --git a/pkgs/core/glibc/glibc.nm b/pkgs/core/glibc/glibc.nm
index 271260d..a30d0d7 100644
--- a/pkgs/core/glibc/glibc.nm
+++ b/pkgs/core/glibc/glibc.nm
@@ -54,6 +54,7 @@ GLIBC_FLAGS += -fno-strict-aliasing -mno-tls-direct-seg-refs -DNDEBUG
 CFLAGS   += $(GLIBC_FLAGS)
 CXXFLAGS += $(GLIBC_FLAGS)
 
+GLIBC_TARGET_PLATFORM = $(subst -gnu,,$(DISTRO_MACHINE))
 OPTIMIZED_KERNEL = 2.6.32
 
 PKG_OBJECTS   += $(THISAPP).tar.xz
@@ -224,6 +225,8 @@ define STAGE_BUILD
 		CFLAGS= \
 		CXXFLAGS= \
 		../$(THISAPP)/configure \
+			--build=$(GLIBC_TARGET_PLATFORM) \
+			--host=$(GLIBC_TARGET_PLATFORM) \
 			--prefix=/usr \
 			--libexecdir=/usr/lib/glibc \
 			--disable-profile \
